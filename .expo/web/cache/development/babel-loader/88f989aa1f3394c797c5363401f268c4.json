{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport * as SecureStore from 'expo-secure-store';\nimport jwtDecode from 'jwt-decode';\nvar key = 'authToken';\nvar storeToken = function () {\n  var _ref = _asyncToGenerator(function* (authToken) {\n    try {\n      yield SecureStore.setItemAsync(key, authToken);\n    } catch (error) {\n      console.log('Error storing the auth token', error);\n    }\n  });\n  return function storeToken(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getToken = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    try {\n      return yield SecureStore.getItemAsync(key);\n    } catch (error) {\n      console.log('Error getting the auth token', error);\n    }\n  });\n  return function getToken() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar getUser = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    var token = yield getToken();\n    return token ? jwtDecode(token) : null;\n  });\n  return function getUser() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar removeToken = function () {\n  var _ref4 = _asyncToGenerator(function* () {\n    try {\n      yield SecureStore.deleteItemAsync(key);\n    } catch (error) {\n      console.log('Error removing the auth token', error);\n    }\n  });\n  return function removeToken() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport default {\n  removeToken: removeToken,\n  storeToken: storeToken,\n  getUser: getUser,\n  getToken: getToken\n};","map":{"version":3,"names":["SecureStore","jwtDecode","key","storeToken","authToken","setItemAsync","error","console","log","getToken","getItemAsync","getUser","token","removeToken","deleteItemAsync"],"sources":["D:/coues-React Native/Tools2Go/app/auth/storage.js"],"sourcesContent":["import * as SecureStore from 'expo-secure-store';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst key = 'authToken';\r\n\r\nconst storeToken = async (authToken) => {\r\n       try {\r\n              await SecureStore.setItemAsync(key, authToken);\r\n       } catch (error) {\r\n              console.log('Error storing the auth token', error);\r\n       }\r\n};\r\n\r\nconst getToken = async () => {\r\n       try {\r\n              return await SecureStore.getItemAsync(key);\r\n       } catch (error) {\r\n              console.log('Error getting the auth token', error);\r\n       }\r\n}\r\n\r\nconst getUser = async () => {\r\n       const token = await getToken();\r\n       return token ? jwtDecode(token) : null;\r\n}\r\n\r\n\r\n\r\nconst removeToken = async () => {\r\n       try {\r\n              await SecureStore.deleteItemAsync(key);\r\n       } catch (error) {\r\n              console.log('Error removing the auth token', error);\r\n       }\r\n};\r\n\r\nexport default {\r\n       removeToken,\r\n       storeToken,\r\n       getUser,\r\n       getToken\r\n};\r\n\r\n"],"mappings":";AAAA,OAAO,KAAKA,WAAW,MAAM,mBAAmB;AAChD,OAAOC,SAAS,MAAM,YAAY;AAElC,IAAMC,GAAG,GAAG,WAAW;AAEvB,IAAMC,UAAU;EAAA,6BAAG,WAAOC,SAAS,EAAK;IACjC,IAAI;MACG,MAAMJ,WAAW,CAACK,YAAY,CAACH,GAAG,EAAEE,SAAS,CAAC;IACrD,CAAC,CAAC,OAAOE,KAAK,EAAE;MACTC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEF,KAAK,CAAC;IACzD;EACP,CAAC;EAAA,gBANKH,UAAU;IAAA;EAAA;AAAA,GAMf;AAED,IAAMM,QAAQ;EAAA,8BAAG,aAAY;IACtB,IAAI;MACG,aAAaT,WAAW,CAACU,YAAY,CAACR,GAAG,CAAC;IACjD,CAAC,CAAC,OAAOI,KAAK,EAAE;MACTC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEF,KAAK,CAAC;IACzD;EACP,CAAC;EAAA,gBANKG,QAAQ;IAAA;EAAA;AAAA,GAMb;AAED,IAAME,OAAO;EAAA,8BAAG,aAAY;IACrB,IAAMC,KAAK,SAASH,QAAQ,EAAE;IAC9B,OAAOG,KAAK,GAAGX,SAAS,CAACW,KAAK,CAAC,GAAG,IAAI;EAC7C,CAAC;EAAA,gBAHKD,OAAO;IAAA;EAAA;AAAA,GAGZ;AAID,IAAME,WAAW;EAAA,8BAAG,aAAY;IACzB,IAAI;MACG,MAAMb,WAAW,CAACc,eAAe,CAACZ,GAAG,CAAC;IAC7C,CAAC,CAAC,OAAOI,KAAK,EAAE;MACTC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEF,KAAK,CAAC;IAC1D;EACP,CAAC;EAAA,gBANKO,WAAW;IAAA;EAAA;AAAA,GAMhB;AAED,eAAe;EACRA,WAAW,EAAXA,WAAW;EACXV,UAAU,EAAVA,UAAU;EACVQ,OAAO,EAAPA,OAAO;EACPF,QAAQ,EAARA;AACP,CAAC"},"metadata":{},"sourceType":"module"}