{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from \"react\";\nexport default useApi = function useApi(apiFunc) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var request = function () {\n    var _ref = _asyncToGenerator(function* () {\n      setLoading(true);\n      var response = yield apiFunc.apply(void 0, arguments);\n      setLoading(false);\n      setError(!response.ok);\n      setData(response.data);\n      return response;\n    });\n    return function request() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return {\n    data: data,\n    error: error,\n    loading: loading,\n    request: request\n  };\n};","map":{"version":3,"names":["useState","useApi","apiFunc","data","setData","error","setError","loading","setLoading","request","response","ok"],"sources":["D:/coues-React Native/Tools2Go/app/hooks/useApi.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default useApi = (apiFunc) => {\r\n  const [data, setData] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const request = async (...args) => {\r\n    setLoading(true);\r\n    const response = await apiFunc(...args);\r\n    setLoading(false);\r\n\r\n    setError(!response.ok);\r\n    setData(response.data);\r\n    return response;\r\n  };\r\n\r\n  return { data, error, loading, request };\r\n};\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,eAAeC,MAAM,GAAG,gBAACC,OAAO,EAAK;EACnC,gBAAwBF,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7BG,IAAI;IAAEC,OAAO;EACpB,iBAA0BJ,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAlCK,KAAK;IAAEC,QAAQ;EACtB,iBAA8BN,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAtCO,OAAO;IAAEC,UAAU;EAE1B,IAAMC,OAAO;IAAA,6BAAG,aAAmB;MACjCD,UAAU,CAAC,IAAI,CAAC;MAChB,IAAME,QAAQ,SAASR,OAAO,yBAAS;MACvCM,UAAU,CAAC,KAAK,CAAC;MAEjBF,QAAQ,CAAC,CAACI,QAAQ,CAACC,EAAE,CAAC;MACtBP,OAAO,CAACM,QAAQ,CAACP,IAAI,CAAC;MACtB,OAAOO,QAAQ;IACjB,CAAC;IAAA,gBARKD,OAAO;MAAA;IAAA;EAAA,GAQZ;EAED,OAAO;IAAEN,IAAI,EAAJA,IAAI;IAAEE,KAAK,EAALA,KAAK;IAAEE,OAAO,EAAPA,OAAO;IAAEE,OAAO,EAAPA;EAAQ,CAAC;AAC1C,CAAC"},"metadata":{},"sourceType":"module"}