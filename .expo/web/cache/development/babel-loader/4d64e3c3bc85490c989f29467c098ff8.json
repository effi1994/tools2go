{"ast":null,"code":"import client from \"./client\";\nvar endpoint = '/listings';\nvar getListings = function getListings() {\n  return client.get(endpoint);\n};\nvar addListing = function addListing(listing, _onUploadProgress) {\n  var data1 = {\n    title: listing.title,\n    price: listing.price,\n    categoryId: listing.category.value,\n    description: listing.description,\n    images: [],\n    location: listing.location ? listing.location : null\n  };\n  listing.images.forEach(function (image, index) {\n    data1.images.push({\n      uri: image,\n      type: 'image/jpeg',\n      name: \"image\" + index\n    });\n  });\n  try {\n    return client.post(endpoint, data1, {\n      onUploadProgress: function onUploadProgress(progress) {\n        _onUploadProgress(progress.loaded / progress.total);\n      }\n    });\n  } catch (error) {\n    if (error instanceof SyntaxError && error.message.includes('Unexpected token - in JSON at position 0')) {\n      console.log('Error parsing JSON data');\n    } else {\n      console.log('Error uploading data', error);\n    }\n  }\n};\nexport default {\n  getListings: getListings,\n  addListing: addListing\n};","map":{"version":3,"names":["client","endpoint","getListings","get","addListing","listing","onUploadProgress","data1","title","price","categoryId","category","value","description","images","location","forEach","image","index","push","uri","type","name","post","progress","loaded","total","error","SyntaxError","message","includes","console","log"],"sources":["D:/coues-React Native/Tools2Go/app/api/listings.js"],"sourcesContent":["import client from './client';\r\n\r\n\r\nconst endpoint = '/listings';\r\n\r\n\r\nconst getListings = () => client.get(endpoint);\r\nconst addListing = (listing,onUploadProgress) => {\r\n       let data1={\r\n              title: listing.title,\r\n              price: listing.price,\r\n              categoryId: listing.category.value,\r\n              description: listing.description,\r\n              images:[],\r\n              location: listing.location ? listing.location : null,\r\n       }\r\n\r\n       listing.images.forEach((image, index) => {\r\n              data1.images.push({\r\n                     uri: image,\r\n                     type: 'image/jpeg',\r\n                     name: `image${index}`,\r\n              });\r\n       });\r\n\r\n     \r\n       try {\r\n              return client.post(endpoint, data1,{\r\n                     onUploadProgress: (progress) => {\r\n                            onUploadProgress(progress.loaded / progress.total);\r\n                     }\r\n              });\r\n       } catch (error) {\r\n              if (error instanceof SyntaxError && error.message.includes('Unexpected token - in JSON at position 0')) {\r\n                     console.log('Error parsing JSON data');\r\n              } else {\r\n                     console.log('Error uploading data', error);\r\n              }\r\n       }\r\n};\r\n\r\nexport default {\r\n       getListings,\r\n       addListing\r\n};"],"mappings":"AAAA,OAAOA,MAAM;AAGb,IAAMC,QAAQ,GAAG,WAAW;AAG5B,IAAMC,WAAW,GAAG,SAAdA,WAAW;EAAA,OAASF,MAAM,CAACG,GAAG,CAACF,QAAQ,CAAC;AAAA;AAC9C,IAAMG,UAAU,GAAG,SAAbA,UAAU,CAAIC,OAAO,EAACC,iBAAgB,EAAK;EAC1C,IAAIC,KAAK,GAAC;IACHC,KAAK,EAAEH,OAAO,CAACG,KAAK;IACpBC,KAAK,EAAEJ,OAAO,CAACI,KAAK;IACpBC,UAAU,EAAEL,OAAO,CAACM,QAAQ,CAACC,KAAK;IAClCC,WAAW,EAAER,OAAO,CAACQ,WAAW;IAChCC,MAAM,EAAC,EAAE;IACTC,QAAQ,EAAEV,OAAO,CAACU,QAAQ,GAAGV,OAAO,CAACU,QAAQ,GAAG;EACvD,CAAC;EAEDV,OAAO,CAACS,MAAM,CAACE,OAAO,CAAC,UAACC,KAAK,EAAEC,KAAK,EAAK;IAClCX,KAAK,CAACO,MAAM,CAACK,IAAI,CAAC;MACXC,GAAG,EAAEH,KAAK;MACVI,IAAI,EAAE,YAAY;MAClBC,IAAI,YAAUJ;IACrB,CAAC,CAAC;EACT,CAAC,CAAC;EAGF,IAAI;IACG,OAAOlB,MAAM,CAACuB,IAAI,CAACtB,QAAQ,EAAEM,KAAK,EAAC;MAC5BD,gBAAgB,EAAE,0BAACkB,QAAQ,EAAK;QACzBlB,iBAAgB,CAACkB,QAAQ,CAACC,MAAM,GAAGD,QAAQ,CAACE,KAAK,CAAC;MACzD;IACP,CAAC,CAAC;EACT,CAAC,CAAC,OAAOC,KAAK,EAAE;IACT,IAAIA,KAAK,YAAYC,WAAW,IAAID,KAAK,CAACE,OAAO,CAACC,QAAQ,CAAC,0CAA0C,CAAC,EAAE;MACjGC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IAC7C,CAAC,MAAM;MACAD,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEL,KAAK,CAAC;IACjD;EACP;AACP,CAAC;AAED,eAAe;EACRzB,WAAW,EAAXA,WAAW;EACXE,UAAU,EAAVA;AACP,CAAC"},"metadata":{},"sourceType":"module"}