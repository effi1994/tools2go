{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"../Components/Button\";\nimport routes from \"../navigation/routes\";\nimport Screen from \"../Components/Screen\";\nimport Card from \"../Components/Card\";\nimport colors from \"../config/colors\";\nimport listingsApi from \"../api/listings\";\nimport ActivitiyIndicator from \"../Components/ActivitiyIndicator\";\nimport useApi from \"../hooks/useApi\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function ListingsScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useApi = useApi(listingsApi.getListings),\n    listings = _useApi.data,\n    error = _useApi.error,\n    loading = _useApi.loading,\n    loadListings = _useApi.request;\n  useEffect(function () {\n    loadListings();\n  }, []);\n  return _jsxs(_Fragment, {\n    children: [_jsx(ActivitiyIndicator, {\n      visible: loading\n    }), _jsxs(Screen, {\n      style: styles.screen,\n      children: [error && _jsxs(_Fragment, {\n        children: [_jsx(Text, {\n          children: \"Couldn't retrieve the listings.\"\n        }), _jsx(Button, {\n          title: \"Retry\",\n          onPress: loadListings\n        })]\n      }), _jsx(FlatList, {\n        data: listings,\n        keyExtractor: function keyExtractor(listing) {\n          return listing.id.toString();\n        },\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item;\n          return _jsx(Card, {\n            title: item.title,\n            subTitle: \"$\" + item.price,\n            imageUrl: item.images[0].url,\n            thumbnailUrl: item.images[0].thumbnailUrl,\n            onPress: function onPress() {\n              return navigation.navigate(routes.LISTING_DETAILS, item);\n            }\n          });\n        }\n      })]\n    })]\n  });\n}\n;\nvar styles = StyleSheet.create({\n  screen: {\n    padding: 20,\n    backgroundColor: colors.light\n  }\n});\nexport default ListingsScreen;","map":{"version":3,"names":["React","useState","useEffect","Button","routes","Screen","Card","colors","listingsApi","ActivitiyIndicator","useApi","ListingsScreen","navigation","getListings","listings","data","error","loading","loadListings","request","styles","screen","listing","id","toString","item","title","price","images","url","thumbnailUrl","navigate","LISTING_DETAILS","StyleSheet","create","padding","backgroundColor","light"],"sources":["D:/coues-React Native/Tools2Go/app/screens/ListingsScreen.js"],"sourcesContent":["import React ,{useState,useEffect}from 'react';\r\nimport {FlatList, StyleSheet, Text, View } from 'react-native';\r\nimport Button from '../Components/Button';\r\nimport routes from '../navigation/routes';\r\nimport Screen from '../Components/Screen';\r\nimport Card from '../Components/Card';\r\nimport colors from '../config/colors';\r\nimport listingsApi from '../api/listings';\r\nimport ActivitiyIndicator from '../Components/ActivitiyIndicator';\r\nimport useApi from '../hooks/useApi';\r\n\r\n\r\nexport function ListingsScreen({ navigation }) {\r\n   const {data:listings,error,loading,request:loadListings} =useApi(\r\n       listingsApi.getListings,\r\n       );\r\n       \r\n\r\n       useEffect(() => {\r\n              loadListings();\r\n       },[]);\r\n\r\n       \r\n\r\n\r\n\r\n       return (\r\n              <>\r\n              <ActivitiyIndicator visible={loading} />\r\n              <Screen style={styles.screen} >\r\n                     {error && <>\r\n                            <Text>Couldn't retrieve the listings.</Text>\r\n                            <Button title=\"Retry\" onPress={loadListings} />\r\n                     </>}\r\n                     <FlatList\r\n                            data={listings}\r\n                            keyExtractor={listing => listing.id.toString()}\r\n                            renderItem={({ item }) =>\r\n                                   <Card\r\n                                          title={item.title}\r\n                                          subTitle={\"$\" + item.price}\r\n                                          imageUrl={item.images[0].url}\r\n                                          thumbnailUrl={item.images[0].thumbnailUrl}\r\n                                          onPress={() => navigation.navigate(routes.LISTING_DETAILS, item)}\r\n                                   />}\r\n\r\n                     />\r\n\r\n              </Screen>\r\n              </>\r\n\r\n       );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n       screen: {\r\n              padding: 20,\r\n              backgroundColor: colors.light\r\n       }\r\n})\r\nexport default ListingsScreen;"],"mappings":"AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAACC,SAAS,QAAM,OAAO;AAAC;AAAA;AAAA;AAAA;AAE/C,OAAOC,MAAM;AACb,OAAOC,MAAM;AACb,OAAOC,MAAM;AACb,OAAOC,IAAI;AACX,OAAOC,MAAM;AACb,OAAOC,WAAW;AAClB,OAAOC,kBAAkB;AACzB,OAAOC,MAAM;AAAwB;AAAA;AAAA;AAGrC,OAAO,SAASC,cAAc,OAAiB;EAAA,IAAdC,UAAU,QAAVA,UAAU;EACxC,cAA0DF,MAAM,CAC5DF,WAAW,CAACK,WAAW,CACtB;IAFOC,QAAQ,WAAbC,IAAI;IAAUC,KAAK,WAALA,KAAK;IAACC,OAAO,WAAPA,OAAO;IAASC,YAAY,WAApBC,OAAO;EAKtCjB,SAAS,CAAC,YAAM;IACTgB,YAAY,EAAE;EACrB,CAAC,EAAC,EAAE,CAAC;EAML,OACO;IAAA,WACA,KAAC,kBAAkB;MAAC,OAAO,EAAED;IAAQ,EAAG,EACxC,MAAC,MAAM;MAAC,KAAK,EAAEG,MAAM,CAACC,MAAO;MAAA,WACrBL,KAAK,IAAI;QAAA,WACH,KAAC,IAAI;UAAA,UAAC;QAA+B,EAAO,EAC5C,KAAC,MAAM;UAAC,KAAK,EAAC,OAAO;UAAC,OAAO,EAAEE;QAAa,EAAG;MAAA,EACnD,EACH,KAAC,QAAQ;QACF,IAAI,EAAEJ,QAAS;QACf,YAAY,EAAE,sBAAAQ,OAAO;UAAA,OAAIA,OAAO,CAACC,EAAE,CAACC,QAAQ,EAAE;QAAA,CAAC;QAC/C,UAAU,EAAE;UAAA,IAAGC,IAAI,SAAJA,IAAI;UAAA,OACZ,KAAC,IAAI;YACE,KAAK,EAAEA,IAAI,CAACC,KAAM;YAClB,QAAQ,EAAE,GAAG,GAAGD,IAAI,CAACE,KAAM;YAC3B,QAAQ,EAAEF,IAAI,CAACG,MAAM,CAAC,CAAC,CAAC,CAACC,GAAI;YAC7B,YAAY,EAAEJ,IAAI,CAACG,MAAM,CAAC,CAAC,CAAC,CAACE,YAAa;YAC1C,OAAO,EAAE;cAAA,OAAMlB,UAAU,CAACmB,QAAQ,CAAC3B,MAAM,CAAC4B,eAAe,EAAEP,IAAI,CAAC;YAAA;UAAC,EACtE;QAAA;MAAC,EAEf;IAAA,EAEA;EAAA,EACN;AAGjB;AAAC;AAED,IAAML,MAAM,GAAGa,UAAU,CAACC,MAAM,CAAC;EAC1Bb,MAAM,EAAE;IACDc,OAAO,EAAE,EAAE;IACXC,eAAe,EAAE7B,MAAM,CAAC8B;EAC/B;AACP,CAAC,CAAC;AACF,eAAe1B,cAAc"},"metadata":{},"sourceType":"module"}